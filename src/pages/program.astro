---
import Layout from '../layouts/Layout.astro';
import { courseModules } from '../data/courseProgram';

const pageTitle = "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞ | –ë–∏–∑–Ω–µ—Å –ê–Ω–∞–ª–∏—Ç–∏–∫";
const pageDescription = "–ü–æ–¥—Ä–æ–±–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–∞. 5 –º–æ–¥—É–ª–µ–π —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ò–ò-–Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞.";
---

<Layout title={pageTitle} description={pageDescription}>
  <main class="program-page">
    <section class="hero">
      <div class="container">
        <h1>–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞</h1>
        <p class="subtitle">–°—Ç–∞–Ω—å—Ç–µ –±–∏–∑–Ω–µ—Å-–∞–Ω–∞–ª–∏—Ç–∏–∫–æ–º –∑–∞ 6 –º–µ—Å—è—Ü–µ–≤</p>
      </div>
    </section>

    <section class="program">
      <div class="container">
        <div class="modules">
          {courseModules.map((module, moduleIndex) => (
            <div class="module">
              <h2>
                <span class="module-number">–ú–æ–¥—É–ª—å {moduleIndex + 1}:</span>
                {module.title}
              </h2>
              <div class="lessons">
                {module.lessons.map((lesson, lessonIndex) => (
                  <details class="lesson">
                    <summary>
                      <span class="lesson-number">{moduleIndex + 1}.{lessonIndex + 1}</span>
                      <div class="lesson-header">
                        <span>{lesson.title}</span>
                        <a href={`/lessons/${moduleIndex + 1}.${lessonIndex + 1}`} class="lesson-button">
                          –ü—Ä–æ–π—Ç–∏ —É—Ä–æ–∫
                        </a>
                      </div>
                    </summary>
                    <div class="lesson-content">
                      <ul>
                        {lesson.topics.map(topic => (
                          <li>{topic}</li>
                        ))}
                      </ul>
                      {lesson.test && (
                        <div class="test-info">
                          <span class="test-icon">üìù</span>
                          {lesson.test}
                        </div>
                      )}
                    </div>
                  </details>
                ))}
              </div>
            </div>
          ))}
        </div>

        <div class="program-cta">
          <h3>–ì–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ?</h3>
          <p>–ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–µ –∏ —É–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</p>
          <a href="#start" class="btn btn-primary">–ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ</a>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  .program-page {
    padding-top: 80px;
  }

  .hero {
    background: linear-gradient(135deg, rgb(var(--accent-dark)) 0%, #1a1a1a 100%);
    padding: 4rem 0;
    text-align: center;
    position: relative;
    overflow: hidden;
  }

  .hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('/grid.svg') center/cover;
    opacity: 0.1;
    pointer-events: none;
  }

  h1 {
    font-size: 3rem;
    color: white;
    margin-bottom: 1rem;
    position: relative;
  }

  .subtitle {
    color: #a1a1aa;
    font-size: 1.25rem;
    max-width: 600px;
    margin: 0 auto;
  }

  .program {
    padding: 4rem 0;
    background: #13151a;
  }

  .modules {
    display: grid;
    gap: 2rem;
    margin-bottom: 4rem;
  }

  .module {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 2rem;
    transition: transform 0.3s ease;
  }

  .module:hover {
    transform: translateY(-2px);
  }

  .module h2 {
    color: white;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .module-number {
    color: rgb(var(--accent));
    font-weight: 600;
  }

  .lessons {
    display: grid;
    gap: 1rem;
  }

  .lesson {
    background: rgba(255, 255, 255, 0.05);
    border-radius: 8px;
  }

  .lesson summary {
    padding: 1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    user-select: none;
    color: white;
  }

  .lesson summary::-webkit-details-marker {
    display: none;
  }

  .lesson-header {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
  }

  .lesson-button {
    padding: 0.5rem 1rem;
    background: rgb(var(--accent));
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-size: 0.9rem;
    transition: all 0.3s ease;
    white-space: nowrap;
  }

  .lesson-button:hover {
    background: rgb(var(--accent-light));
    transform: translateY(-1px);
  }

  .lesson-number {
    color: rgb(var(--accent-light));
    font-weight: 500;
    white-space: nowrap;
  }

  .lesson-content {
    padding: 1rem;
    padding-top: 0;
    color: #a1a1aa;
  }

  .lesson-content ul {
    list-style-type: none;
    padding-left: 1.5rem;
  }

  .lesson-content li {
    position: relative;
    margin-bottom: 0.5rem;
  }

  .lesson-content li::before {
    content: '‚Ä¢';
    color: rgb(var(--accent));
    position: absolute;
    left: -1rem;
  }

  .test-info {
    margin-top: 1rem;
    padding: 0.75rem;
    background: rgba(var(--accent), 0.1);
    border-radius: 6px;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .test-icon {
    font-size: 1.2rem;
  }

  .program-cta {
    text-align: center;
    padding: 3rem;
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
  }

  .program-cta h3 {
    color: white;
    font-size: 1.75rem;
    margin-bottom: 1rem;
  }

  .program-cta p {
    color: #a1a1aa;
    margin-bottom: 1.5rem;
  }

  @media (max-width: 1024px) {
    .hero {
      padding: 3rem 0;
    }

    h1 {
      font-size: 2.5rem;
    }

    .module {
      padding: 1.5rem;
    }
  }

  @media (max-width: 768px) {
    .hero {
      padding: 2rem 0;
    }

    h1 {
      font-size: 2rem;
    }

    .subtitle {
      font-size: 1.1rem;
    }

    .module {
      padding: 1rem;
    }

    .module h2 {
      font-size: 1.25rem;
      flex-direction: column;
      align-items: flex-start;
      gap: 0.25rem;
    }

    .lesson-header {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }

    .lesson-button {
      width: 100%;
      text-align: center;
    }

    .program-cta {
      padding: 2rem 1rem;
    }

    .program-cta h3 {
      font-size: 1.5rem;
    }
  }
</style>

<script>
  // Scroll to top on page load
  window.onload = () => window.scrollTo(0, 0);
</script>